# Experiment 2 Contents

- analysis/:
    - Processing (IT2).ipynb: Python code for preprocessing the data and organizing all sessions into a response_data.csv and tap_data.csv file.
    - Screening (IT2).ipynb: Python code to check for participants that met exclusion criteria and save their IDs into an excluded.txt file.
- data/:
    - excluded.txt: The list of participant IDs excluded by our screening methods. The list is saved by Processing (IT2).ipynb as a text file with one ID number listed per line.
    - failed_headphone_test.txt: The list of participant IDs that failed the headphone test, as an additional exclusion criteria if desired. Created by Processing (IT2).ipynb.
    - Illusory*.csv: Tables containing all raw data for each individual participant, as recorded by Pavlovia. See below for full data codebook.
    - response_data.csv: A table containing all processed data, generated by Processing (IT2).ipynb. See below for full data codebook.
    - tap_data.csv: A table containing the spontaneous motor tempo task data from all participants, generated by Processing (IT2).ipynb. See below for full data codebook.
- headphone_check/: Stimulus files for the headphone test of Woods et al., 2017 (<https://doi.org/10.3758/s13414-017-1361-2>). The last three letters of each file name indicate which of the three tones is played In-phase, Out-of-phase, and Softer.
- plugins/: A folder for custom jsPsych plugins.
    - audio-multiple-response.js: A custom jsPsych plugin for presenting an audio file and recording multiple keyboard responses. Used for taking spontaneous motor tempo measurements and recording taps during stimulus presentation.
- preparation/: Python code used for preparing the stimuli and trial schedules used in the experiment.
    - Tone Editing (IT2).ipynb: Code to cut tone samples out of a WAV file and generate stimulus sequences, which are saved in stimuli/
    - tone_balancing.m: MATLAB script to normalize tone loudness.
    - Trial Randomization (IT2).ipynb: Code to pre-generate randomized trial orders, which are saved in schedules/.
- schedules/: JSON files containing pre-generated randomized trial orders. The experiment code loads session[ID].json as the trial schedule, where [ID] is the participant's ID number (assigned automatically by our pre-session questionnaire that was conducted on LimeSurvey).
- stimuli/: All wav files used as stimuli in the experiment.
    - tones/: Contains raw and loudness-normalized versions of each tone and metronome tick used in the experiment. Tones are labeled by their pitch class and octave, e.g. pianoA3 is A3 (220 Hz).
    - sequence\_[octave]\_[IOI]\_[loudness].wav: The stimulus sequence for trials of the specified octave, IOI, and loudness (0=quiet, 1=normal, 2=loud).
- index.html: The HTML and jsPsych code for running Experiment 2 on Pavlovia. Note that the jsPsych library sources are not included in this repository, as Pavlovia hosts their own copy of jsPsych that our HTML code automatically accessed.


# Data Codebook for Experiment 2


## Codebook for individual session data (Illusory*.csv)
### Metadata
- trial_type: The jsPsych event type that generated the data entry (see official jsPsych documentation for details).
- trial_index: Event number.
- time_elapsed: Milliseconds elapsed since the experiment began.
- internal_node_id: jsPsych's internal event IDs.
- code_version: 
- event:

### Condition Data
- subject: The ID number of the participant.
- tap_condition:
- stimulus: The text displayed on the screen or the audio file played during that event.

### Response Data
- rt: The number of milliseconds after the event began that a response was recorded. For the spontaneous motor tempo measurement and the stimulus presentation events, the RT values indicate the times the person tapped.
- key_press: The key ID number that was pressed in response to the event. (For events that use keyboard responses.) See <http://www.foreui.com/articles/Key_Code_Table.htm> for a dictionary of key codes.
- button_pressed: The button ID number that was pressed in response to the event. (For events that use button responses.)
- response: The tempo rating response given on a trial (from 0 to 100).


## Codebook for processed data (response_data.csv)
(Each row represents one trial.)
### Metadata
- experiment: Experiment name (always IT1).
- block: Block number (0-2).
- trial: Trial number (1-90).

### Condition Data
- subject: The ID number of the participant.
- pitch: The octave of the repeating tone.
- ioi: The inter-onset interval of the repeating tone (in ms).
- tempo: The tempo of the repeating tone (in beats per minute).
- tempo_range: The tempo range the repeating tone's tempo fell within, from 1 (Slow) to 5 (Fast).
- loudness: The loudness of the repeating tone (in LKFS).
- tap_condition: Whether the participant was instructed to tap (True/False).
- tapped: Whether the participant tapped during stimulus presentation (True/False).
- tap_type: 0 if instructed not to tap, 1 if instructed to tap but did not, 2 if instructed to tap and did tap.

### Response Scores
- key_press: The list of keys the participant tapped during stimulus presentation.
- tap_times: Milliseconds after the stimulus presentation screen began that the participant tapped.
- true_score: The ground truth relative tempo on a given trial (Equation 1).
- response: The participant's tempo rating response on a given trial.
- rt: Milliseconds after the slider appeared that the participant submitted their response
- error: Difference between the tempo rating on a given trial and the ground truth relative tempo.
- residual: Residual tempo rating on a given trial, after regressing out the effect of tempo (Equation 4).
- illusory_tempo: Illusory tempo shift score for the rating on a given trial (Equation 5).
- cooks: Cook's distance for the tempo rating on a given trial (used for outlier detection).

### Participant-Level Scores
(These scores are identical for all trials from a given participant.)
- test_correct: Number of correct headphone test trial responses (out of 6).
- test_incorrect: Number of incorrect headphone test trial responses (out of 6).
- test_skipped: Number of headphone test trials skipped (out of 6).
- extreme_responses: Number of trials on which the participant responded with 0, 50, or 100 (referred to as "discrete responding" in the paper).
- pearsonr: The pearson correlation between the person's tempo ratings and the true relative tempo.
- intercept: The intercept of the linear model fit to the participant's raw tempo ratings (Equation 2).
- slope: The slope of the linear model fit to the participant's raw tempo ratings (Equation 2).


## Codebook for spontaneous motor tempo data (tap_data.csv)
(Each row represents one participant.)
### Metadata
- trial_type: The jsPsych event type of the SMT trial (always audio-multiple-response).
- trial_index: The event number of the SMT trial (always the 17th event).
- time_elapsed: Milliseconds elapsed since the experiment began.
- internal_node_id: jsPsych's internal event IDs.
- experiment: Experiment name (always IT1).

### Condition Data
- subject: The ID number of the participant.
- stimulus: Always blank for the SMT measurement, as there was no stimulus.
- tap_condition: Whether the participant was later instructed to tap during stimulus presentation (True/False).

### Response Data
- tap_times: Milliseconds after the start of the SMT measurement that the participant tapped.
- key_press: The list of keys the participant tapped during the SMT measurement.
- valid_key_press: Same as key_press, but with keys other than J and F filtered out.
- valid_tap_times: The timing of the valid key presses.

### Participant-Level Scores
- spi: The SMT expressed as a millisecond interval ("spontaneous production interval").
- spr: The SMT expressed as beats per minute ("spontaneous production rate").
- test_correct: Number of correct headphone test trial responses (out of 6).
- test_incorrect: Number of incorrect headphone test trial responses (out of 6).
- test_skipped: Number of headphone test trials skipped (out of 6).
- extreme_responses: Number of trials on which the participant responded with 0, 50, or 100 (referred to as "discrete responding" in the paper).
- pearsonr: The pearson correlation between the person's tempo ratings and the true relative tempo.
- intercept: The intercept of the linear model fit to the participant's raw tempo ratings (Equation 2).
- slope: The slope of the linear model fit to the participant's raw tempo ratings (Equation 2).
