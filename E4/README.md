# Experiment 4 Contents (Illusory Tempo - Synthetic Tone)

- analysis/:
    - figures/: Vectorized SVG files of Figures 7--8.
    - Analysis (ITST).ipynb: Python code for making Figures 7--8.
    - Stats (ITST).R: R code for all stats.
    - Processing (ITST).ipynb: Python code for preprocessing the data and organizing all sessions into a response_data.csv and tap_data.csv file.
    - Screening (ITST).ipynb: Python code to check for participants that met exclusion criteria and save their IDs into an excluded.txt file.
- data/:
    - excluded.txt: The list of participant IDs excluded by our screening methods. The list is saved by Processing (ITST).ipynb as a text file with one ID number listed per line.
    - failed_headphone_test.txt: The list of participant IDs that failed the headphone test, as an additional exclusion criteria if desired. Created by Processing (ITST).ipynb.
    - Illusory*.csv: Tables containing all raw data for each individual participant, as recorded by Pavlovia. See below for full data codebook.
    - pitch_fits.csv: The polynomial regression fit for each participant (s=subject, a=intercept, b1=linear slope, b2=quadratic slope, etc.). Generated by Stats (ITST).R.
    - response_data.csv: A table containing all processed data, generated by Processing (ITST).ipynb. See below for full data codebook.
    - timbre_fits.csv: The polynomial regression fit for each participant, split by timbre (Types: p=piano, a=artificial/synthetic). Generated by Combined Stats.R, and used in Figure 6B. Generated by Stats (ITST).R.
- headphone_check/: Stimulus files for the headphone test of Woods et al., 2017 (<https://doi.org/10.3758/s13414-017-1361-2>). The last three letters of each file name indicate which of the three tones is played In-phase, Out-of-phase, and Softer.
- plugins/: A folder for custom jsPsych plugins.
    - audio-multiple-response.js: A custom jsPsych plugin for presenting an audio file and recording multiple keyboard responses. Used for taking spontaneous motor tempo measurements and recording taps during stimulus presentation.
- preparation/: Python code used for preparing the stimuli and trial schedules used in the experiment.
    - README - Stimulus Creation.txt: Additional documentation regarding the process by which tones were created.
    - Tone Generation (ITST).ipynb: Code to generate synthetic tones and generate stimulus sequences, which are saved in stimuli/.
    - Trial Randomization (ITST).ipynb: Code to pre-generate randomized trial orders, which are saved in schedules/.
- schedules/: JSON files containing pre-generated randomized trial orders. The experiment code loads session[ID].json as the trial schedule, where [ID] is the participant's ID number (assigned automatically by our pre-session questionnaire that was conducted on LimeSurvey).
- stimuli/: All wav files used as stimuli in the experiment.
    - tones/: Contains raw and loudness-normalized versions of each tone and metronome tick used in the experiment. Tones are labeled by their timbre, pitch class, and octave, e.g. pianoA3 is A3 (220 Hz) piano, toneA3 is A3 synthetic.
    - sequence\_[timbre]_[octave]\_[IOI]\_[loudness].wav: The stimulus sequence for trials of the specified timbre (p=piano, a=artificial/synthetic), octave, IOI, and loudness (0=quiet, 1=normal, 2=loud).
- experiment.js: The jsPsych code for running the experiment on Pavlovia.
- index.html: The HTML code for running the experiment on Pavlovia. Note that the jsPsych library sources are not included in this repository, as Pavlovia hosts their own copy of jsPsych that our HTML code automatically accessed.
- limesurvey_consent.lss: The LimeSurvey template for the consent form.
- limesurvey_questionnaire.lss: The LimeSurvey template for the participant demographic questionnaire.


# Data Codebook for Experiment 4


## Codebook for individual session data (Illusory*.csv)
### Metadata
- trial_type: The jsPsych event type that generated the data entry (see official jsPsych documentation for details).
- trial_index: Event number.
- time_elapsed: Milliseconds elapsed since the experiment began.
- internal_node_id: jsPsych's internal event IDs.
- code_version: The version of the experiment that was run (always 1.0).
- event: The type of event the row contains data for (more detailed than trial_type). Can be one of the following:
    - welcome: Welcome screen.
    - requirements: Screen explaining study requirements (headphones, quiet space, etc.).
    - headphone_test_instructions: Instructions for the headphone test.
    - headphone_test_tones: Stimulus presentation for the headphone test.
    - headphone_test_response: Participant response for the headphone test.
    - main_instructions: The instructions for the main tempo rating task.
    - metronome: Presentation of the standard reference metronome.
    - practice_tones: Presentation of the repeating tone on a practice trial.
    - tones: Presentation of the repeating tone.
    - response: The participant's tempo rating response for a trial.
    - summary_instructions: The post-practice instructions re-summarizing the task.
    - break: A self-paced break between blocks of trials.
    - ending: The ending screen thanking the participant.

### Condition Data
- subject: The ID number of the participant.
- first_type: Which timbre the participant heard in the first block (p=piano, a=artificial/synthetic).
- stimulus: The text displayed on the screen or the audio file played during that event.
- type: The timbre of the trial (p=piano, a=artificial/synthetic).

### Response Data
- rt: The number of milliseconds after the event began that a response was recorded.
- key_press: The key ID number that was pressed in response to the event. (For events that use keyboard responses.) See <http://www.foreui.com/articles/Key_Code_Table.htm> for a dictionary of key codes.
- button_pressed: The button ID number that was pressed in response to the event. (For events that use button responses.)
- response: The tempo rating response given on a trial (from 0 to 100).


## Codebook for processed data (response_data.csv)
(Each row represents one trial.)
### Metadata
- experiment: Experiment name (always ITST).
- block: Block number (0-5).
- trial: Trial number (1-180).

### Condition Data
- subject: The ID number of the participant.
- first_type: Which timbre the participant heard in the first block (p=piano, a=artificial/synthetic).
- pitch: The octave of the repeating tone (2-7).
- ioi: The inter-onset interval of the repeating tone (in ms).
- tempo: The tempo of the repeating tone (in beats per minute).
- tempo_range: The tempo range the repeating tone's tempo fell within, from 1 (Slow) to 5 (Fast).
- loudness: The loudness of the repeating tone (0=Soft, 1=Normal, 2=Loud).
- type: The timbre of the repeating tone on the trial (p=piano, a=artificial/synthetic).

### Response Scores
- true_score: The ground truth relative tempo on a given trial (Equation 1).
- response: The participant's tempo rating response on a given trial.
- rt: Milliseconds after the slider appeared that the participant submitted their response
- error: Difference between the tempo rating on a given trial and the ground truth relative tempo.
- residual: Residual tempo rating on a given trial, after regressing out the effect of tempo (Equation 4).
- illusory_tempo: Illusory tempo shift score for the rating on a given trial (Equation 5).
- cooks: Cook's distance for the tempo rating on a given trial (used for outlier detection).

### Participant-Level Scores
(These scores are identical for all trials from a given participant.)
- test_correct: Number of correct headphone test trial responses (out of 6).
- test_incorrect: Number of incorrect headphone test trial responses (out of 6).
- test_skipped: Number of headphone test trials skipped (out of 6).
- extreme_responses: Number of trials on which the participant responded with 0, 50, or 100 (referred to as "discrete responding" in the paper).
- pearsonr: The pearson correlation between the person's tempo ratings and the true relative tempo.
- intercept: The intercept of the linear model fit to the participant's raw tempo ratings (Equation 2).
- slope: The slope of the linear model fit to the participant's raw tempo ratings (Equation 2).
